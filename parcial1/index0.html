<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grupos de Investigación</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    .header {
      display: flex;
      justify-content: space-between; /* manda uno a la izquierda y otro a la derecha */
      align-items: center;
      padding: 10px 20px;
      background: #f0f0f0;
    }

    .header img {
      height: 60px; /* ajusta el tamaño del logo */
    }
  </style>
</head>


<body class="container py-4">
 <div class="header">
   <img src="pngegg.png" alt="Logo Izquierdo">
   <img src="pngegg.png" alt="Logo Derecho">
 </div>

  <h1 class="mt-5 mb-4">Gestión de Grupos de Investigación</h1>

  <!-- Listado de grupos (GET) -->
  <button id="btnCargar" class="btn btn-primary mb-3">Cargar Grupos</button>
  <ul id="listaGrupos" class="list-group mb-4"></ul>
  <div id="infoGrupo" class="alert alert-info d-none"></div>

  <!-- Formulario registrar docente (POST) -->
  
  <h2>Registrar Docente</h2>
  <form id="formDocente" class="mb-4">
    <!-- Campo nombre docente -->
    <input type="text" class="form-control mb-2" name="nombre" placeholder="Nombre docente" required>

    <!-- Campo formación académica -->
    <input type="text" class="form-control mb-2" name="formacion" placeholder="Formación académica" required>

    <!-- Campo horario de atención -->
    <input type="text" class="form-control mb-2" name="horario" placeholder="Horario de atención" required>

    <!-- Campo grupo -->
    <select class="form-control mb-2" name="grupo">
      <option value="COMBA I+D">COMBA I+D</option>
      <option value="GIEIAM">GIEIAM</option>
    </select>

    <button type="submit" class="btn btn-success">Registrar</button>
  </form>

  <!-- Formulario estudiante (para completar por el estudiante) -->
  <h2>Vincular Estudiante a Semillero (COMBA I+D)</h2>
  <form id="formEstudiante" class="mb-4">
    <input type="text" class="form-control mb-2" name="nombre" placeholder="Nombre estudiante" required>
    <input type="text" class="form-control mb-2" name="codigo" placeholder="Código" required>
    <input type="text" class="form-control mb-2" name="carrera" placeholder="Carrera" required>
    <select class="form-control mb-2" name="semillero" required>
      <option value="">Seleccione semillero</option>
      <option value="Comba">Comba</option>
      <option value="Informa">Informa</option>
    </select>
    <button type="submit" class="btn btn-info">Vincular</button>
  </form>

  <!-- Formulario actividad semillero (para completar por el estudiante) -->
  <h2>Agregar Actividad a Semillero</h2>
  <form id="formActividad" class="mb-4">
    <select class="form-control mb-2" name="tipo" required>
      <option value="">Tipo de actividad</option>
      <option value="Taller">Taller</option>
      <option value="Conferencia">Conferencia</option>
      <option value="Evento">Evento</option>
    </select>
    <input type="date" class="form-control mb-2" name="fecha" required>
    <input type="time" class="form-control mb-2" name="hora" required>
    <input type="number" class="form-control mb-2" name="limite" placeholder="Límite de asistentes" min="1" required>
    <textarea class="form-control mb-2" name="resumen" placeholder="Resumen de la actividad" required></textarea>
    <button type="submit" class="btn btn-warning">Agregar Actividad</button>
  </form>

  <h3>Actividades Registradas</h3>
  <ul id="listaActividades" class="list-group mb-4"></ul>

  <script>
    const lista = document.getElementById("listaGrupos");
    const btnCargar = document.getElementById("btnCargar");
    const formDocente = document.getElementById("formDocente");
    const infoGrupo = document.getElementById("infoGrupo");
    const formEstudiante = document.getElementById("formEstudiante");
    const formActividad = document.getElementById("formActividad");
    const listaActividades = document.getElementById("listaActividades");

    // Datos simulados de grupos
    const grupos = [
      {
        id: 1,
        nombre: "COMBA I+D",
        objetivos: "Desarrollar investigación en computación, matemáticas y bioinformática.",
        director: "Dr. Loaiza",
        email: "Diego.loaiza@usc.edu.co"
      },
      {
        id: 2,
        nombre: "GIEIAM",
        objetivos: "Estudiar ingeniería industrial, automatización y materiales.",
        director: "Dr. Juan Gómez",
        email: "Mailyn.Quintero@usc.edu.co"
      }
    ];

    // GET - cargar grupos
    btnCargar.addEventListener("click", async () => {
      lista.innerHTML = "";
      grupos.forEach(grupo => {
        const li = document.createElement("li");
        li.className = "list-group-item list-group-item-action";
        li.textContent = grupo.nombre;
        li.style.cursor = "pointer";
        li.onclick = () => mostrarInfoGrupo(grupo);
        lista.appendChild(li);
      });
    });

    function mostrarInfoGrupo(grupo) {
      infoGrupo.classList.remove("d-none");
      infoGrupo.innerHTML = `
        <strong>${grupo.nombre}</strong><br>
        <b>Director:</b> ${grupo.director}<br>
        <b>Email:</b> ${grupo.email}<br>
        <b>Objetivos:</b> ${grupo.objetivos}
      `;
    }

    // POST - registrar docente
    formDocente.addEventListener("submit", async (e) => {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(formDocente));
      try {
        const res = await fetch("https://jsonplaceholder.typicode.com/posts", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });
        const json = await res.json();
        alert("Docente registrado correctamente:\n" + JSON.stringify(json, null, 2));
        formDocente.reset();
      } catch (err) {
        alert("Error al registrar docente");
      }
    });

    // POST - vincular estudiante (simulado)
    formEstudiante.addEventListener("submit", async (e) => {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(formEstudiante));
      try {
        const res = await fetch("https://jsonplaceholder.typicode.com/posts", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });
        const json = await res.json();
        alert("Estudiante vinculado:\n" + JSON.stringify(json, null, 2));
        formEstudiante.reset();
      } catch (err) {
        alert("Error al vincular estudiante");
      }
    });

    // Lista de actividades en memoria
    let actividades = [];

    // POST - agregar actividad a semillero
    formActividad.addEventListener("submit", (e) => {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(formActividad));
      actividades.push(data);
      mostrarActividades();
      formActividad.reset();
    });

    function mostrarActividades() {
      listaActividades.innerHTML = "";
      actividades.forEach((act, idx) => {
        const li = document.createElement("li");
        li.className = "list-group-item";
        li.innerHTML = `<b>${act.tipo}</b> - ${act.fecha} ${act.hora} <br>
          <b>Límite:</b> ${act.limite} <br>
          <b>Resumen:</b> ${act.resumen}`;
        listaActividades.appendChild(li);
      });
    }
  </script>
 
</body>
</html>